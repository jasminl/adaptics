<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">   
 <meta>
  <!-- Stylesheets -->
  <link href="../web.css" type="text/css" rel="stylesheet"></link>
  <title>VLFeat - C API</title>
  
  
  <!-- Scripts-->
 
 </meta>
 
 <!-- Body Start -->
 <body>
  <div id="header">
   <!-- Google CSE Search Box Begins -->
   <form action=" http://www.vlfeat.org/search.html" method="get" id="cse-search-box" enctype="application/x-www-form-urlencoded">
    <div>
     <input type="hidden" name="cx" value="003215582122030917471:oq23albfeam"></input>
     <input type="hidden" name="cof" value="FORID:11"></input>
     <input type="hidden" name="ie" value="UTF-8"></input>
     <input type="text" name="q" size="31"></input>
     <input type="submit" name="sa" value="Search"></input>
    </div>
   </form>
   <script src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en" xml:space="preserve" type="text/javascript"></script>
   <!-- Google CSE Search Box Ends -->
   <h1>VLFeat.org</h1>
  </div>
  <div id="headbanner">
  C API
  </div>
  <div id="pagebody">
   <div id="sidebar"> <!-- Navigation Start -->
   <ul>
<li><a href="../index.html">Home</a>
</li>
<li><a href="../download.html">Download</a>
</li>
<li><a href="index.html" class='active' >C API</a>
</li>
<li><a href="../mdoc/mdoc.html">Matlab API</a>
</li>
<li><a href="../man/man.html">Man pages</a>
</li>
<li><a href="../overview/tut.html">Tutorials</a>
</li>
</ul>

   </div> <!-- sidebar -->
   <div id="content">
   
   <div class="doxygen">
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>VLFeat -- Vision Lab Features Library</h1>
<p>
<dl class="version" compact><dt><b>Version:</b></dt><dd>0.9.4 (April 28, 2009) </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Andrea Vedaldi (<a href="mailto:vedaldi@cs.ucla.edu">vedaldi@cs.ucla.edu</a>) <p>
Brian Fulkerson (<a href="mailto:bfulkers@cs.ucla.edu">bfulkers@cs.ucla.edu</a>)</dd></dl>
<dl class="user" compact><dt><b>Copyright &copy; 2007-09 Andrea Vedaldi and Brian Fulkerson</b></dt><dd></dd></dl>
<em>VLFeat C library contains implementations of common computer vision algorithms, with a special focus on visual features for matching image regions. Applications include structure from motion and object and category detection and recognition.</em><p>
<em> We strive to make the library free of clutter, portable (VLFeat is largely C-89 compatible), and self- documented. Different parts of the library are weakly interdependent, simplifying understanding and extraction of code.</em><h2><a class="anchor" name="main-contents">
Contents</a></h2>
<ul>
<li><a class="el" href="index.html#design">Design Concepts</a><ul>
<li><a class="el" href="index.html#design-objects">Objects</a></li><li><a class="el" href="index.html#design-resources">Memory and resource management</a></li><li><a class="el" href="index.html#design-threads">Multi-threading</a></li><li><a class="el" href="index.html#design-portability">Portability</a></li></ul>
</li><li><a class="el" href="index.html#main-glossary">Glossary</a></li><li>Support functionalities<ul>
<li><a class="el" href="host_8h.html">Platform abstraction</a></li><li><a class="el" href="generic_8h.html">Errors, memory, logging, and others</a></li><li><a class="el" href="mathop_8h.html">Math operations</a></li><li><a class="el" href="random_8h.html">Random number generator</a></li><li><a class="el" href="stringop_8h.html">String operations</a></li><li><a class="el" href="imop_8h.html">Image operations</a></li><li><a class="el" href="rodrigues_8h.html">Rodrigues formula</a></li><li><a class="el" href="mexutils_8h.html">MATLAB MEX helper functions</a></li></ul>
</li><li>Algorithms<ul>
<li><a class="el" href="sift_8h.html">Scale Invariant Feature Transform (SIFT)</a></li><li><a class="el" href="dsift_8h.html">Dense SIFT (DSIFT)</a></li><li><a class="el" href="mser_8h.html">Maximally Stable Extremal Regions (MSER)</a></li><li><a class="el" href="ikmeans_8h.html">Integer K-means (IKM)</a></li><li><a class="el" href="hikmeans_8h.html">Hierarchical Integer K-means (HIKM)</a></li><li><a class="el" href="aib_8h.html">Agglomerative Information Bottleneck (AIB)</a></li><li><a class="el" href="quickshift_8h.html">Quick shift image segmentation</a></li></ul>
</li></ul>
<h2><a class="anchor" name="design">
VLFeat Design Concepts</a></h2>
VLFeat follows a simple but rigorous design that makes it portable and simple to use in conjunction with high level language such as MATLAB. This section illustrates and motivates the aspects of the design that are relevant to the users of the library. Most of the features discussed in here are implemented in the <a class="el" href="generic_8h.html">generic.h</a> module.<h3><a class="anchor" name="design-objects">
Objects</a></h3>
Most of VLFeat functionalities are implemented as opaque data structures, to which we refer as "objects". Typically, you create an object by means of a constructor function and dispose of it by means of a destructor function. The data member of the object should not be accessed directly, but by means of appropriate accessor functions (typically containing the <code>_get</code> and _set keywords in their names).<h3><a class="anchor" name="design-resources">
Memory and Resource Management</a></h3>
Resource management in VLFeat is minimal. In most cases, you can assume that VLFeat does not provide any resource management functionality at all. Objects or memory blocks allocated by the library but owned by the client must be explicitly disposed. The following rule helps identifying such blocks and objects:<p>
<b> The client owns a memory block or object if, and only if, it is returned by a library call containing the keywords <code>_new</code> or <code>_copy</code>, or by the allocator functions <a class="el" href="generic_8h.html#e28d261fc7cc26f1457b171d842b53ab" title="Call customizable malloc function.">vl_malloc</a>, <a class="el" href="generic_8h.html#93ff990a07af5b4b69bbde7c8e021e28" title="Call customizable calloc function.">vl_calloc</a>, <a class="el" href="generic_8h.html#e39d0b3bbe1fc3402febdbab894f2207" title="Call customizable resize function.">vl_realloc</a>.</b><p>
More in detail, the following rules apply:<p>
<ul>
<li>Memory is the only managed resource. Other resources used by the library (e.g. files) are either passed to the library by the client, or acquired and released within the scope of a library function call.</li><li>The memory manager can be customized through <a class="el" href="generic_8h.html#3a951cf8cf7028299be1a52e0cb2d9cc" title="Set memory allocation functions.">vl_set_alloc_func</a> (which sets the implementations of <a class="el" href="generic_8h.html#e28d261fc7cc26f1457b171d842b53ab" title="Call customizable malloc function.">vl_malloc</a>, <a class="el" href="generic_8h.html#e39d0b3bbe1fc3402febdbab894f2207" title="Call customizable resize function.">vl_realloc</a>, <a class="el" href="generic_8h.html#93ff990a07af5b4b69bbde7c8e021e28" title="Call customizable calloc function.">vl_calloc</a> and <a class="el" href="generic_8h.html#bb97ff524f46d6c5ce9ca8af9e792cc3" title="Call customizable free function.">vl_free</a>). The library allocates memory only through these functions.</li><li>The memory manager is global to all threads.</li><li>At any moment, there is only one memory manager in existence. <a class="el" href="generic_8h.html#3a951cf8cf7028299be1a52e0cb2d9cc" title="Set memory allocation functions.">vl_set_alloc_func</a> can be used only before any other function is invoked, or right before or after the previous memory manager has relinquished all memory.</li><li>Such rules apply both to the library client and to the library implementation. The only exception regards the memory allocated in the global library state, which uses the native memory manager.</li></ul>
<p>
These rules make it possible to undo all the work done by the library at any given instant. Disposing the memory allocated by the custom memory manager essentially "resets" the library (except for its global state). This functionality is used extensively in the implementation of MATLAB MEX functions that access the library to support abrupt interruption.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>The rules guarantee that all memory allocated by the library at any given time is allocated by the same memory manager, except for the global state that should survive the "reset" operation. In order to support multiple memory managers, one should keep track of the allocator of each object (or memory block). Moreover, partial de-allocation of a pool of objects is dangerous, as such objects may be referred by other objects that are not being de-allocated, corrupting their state. A proper solution to the latter problem is the retain/release mechanism implemented, for instance, by Apple Core Foundation or Cocoa.</dd></dl>
<h3><a class="anchor" name="design-threads">
Multi-threading</a></h3>
The library is currently <em>not</em> thread safe, but this support will be added in a future release.<p>
The library is almost entirely reentrant. The only thread-sensitive operations are on the global library state and are limited to:<p>
<ul>
<li>Global library configuration (e.g. <a class="el" href="generic_8h.html#3a951cf8cf7028299be1a52e0cb2d9cc" title="Set memory allocation functions.">vl_set_alloc_func</a>).</li><li>Random number generator state (<a class="el" href="random_8h.html">random.h</a>).</li><li>Error handling (e.g. <a class="el" href="generic_8h.html#e6050ca9ffb81385076cc0e1cc6c60db" title="The number of the last error.">vl_err_no</a>).</li></ul>
<h3><a class="anchor" name="design-portability">
Portability features</a></h3>
Platform dependent details are isolated in the <a class="el" href="generic_8h.html">generic.h</a> library module. These include:<p>
<ul>
<li>Atomic types (e.g. <a class="el" href="host_8h.html#03fa435c713d3141c4a700f79f5b2600" title="Signed 32-bit integer.">vl_int32</a>).</li><li>Special syntaxes for the declaration of symbols exported by the library and inline functions (e.g. VL_EXPORT).</li><li>Host-dependent conversion of data endianess (e.g. <a class="el" href="host_8h.html#06b8ad01a424679c640ed1a296bffb30" title="Host &lt;-&gt; big endian transformation for 8-bytes value.">vl_swap_host_big_endianness_8()</a>).</li></ul>
<p>
VLFeat uses processor specific features (e.g. Intel SSE) if those are available at compile time.<h2><a class="anchor" name="main-glossary">
Glossary</a></h2>
<ul>
<li><b>Column-major.</b> A <em>M x N </em> matrix <em>A</em> is stacked with column-major order as the sequence <img class="formulaInl" alt="$(A_{11}, A_{21}, \dots, A_{12}, \dots)$" src="form_59.png">. More in general, when stacking a multi dimensional array this indicates that the first index is the one varying most quickly, with the other followed in the natural order.</li><li><b>Opaque structure.</b> A structure is opaque if the user is not supposed to access its member directly, but through appropriate interface functions. Opaque structures are commonly used to define objects.</li><li><b>Row-major.</b> A <em>M x N </em> matrix <em>A</em> is stacked with row-major order as the sequence <img class="formulaInl" alt="$(A_{11}, A_{12}, \dots, A_{21}, \dots)$" src="form_60.png">. More in general, when stacking a multi dimensional array this indicates that the last index is the one varying most quickly, with the other followed in reverse order.</li><li><b>Feature frame.</b> A <em>feature frame</em> is the geometrical description of a visual features. For instance, the frame of a <a class="el" href="sift_8h.html">SIFT feature</a> is oriented disk and the frame of <a class="el" href="mser_8h.html">MSER feature</a> is either a compact and connected set or a disk.</li><li><b>Feature descriptor.</b> A <em>feature descriptor</em> is a quantity (usually a vector) which describes compactly the appearance of an image region (usually corresponding to a feature frame). </li></ul>
</div>
    <!-- Doc Here -->
   </div>
  
   </div>
   <div class="clear">&nbsp;</div>
  </div> <!-- pagebody -->
  <div id="footer">
   &copy; 2005-09 Andrea Vedaldi and Brian Fulkerson
  </div> <!-- footer -->
  
  <!-- Google Analytics Begins -->
  <script xml:space="preserve" type="text/javascript">
   //<![CDATA[
    var localre = /vlfeat.org/;
    if(document.location.host.search(localre) != -1)
    {
   var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
   document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
   }
   //]]>
  </script>
  <script xml:space="preserve" type="text/javascript">
    //<![CDATA[
    var localre = /vlfeat.org/;
    if(document.location.host.search(localre) != -1)
    {

   try {
   var pageTracker = _gat._getTracker("UA-4936091-2");
   pageTracker._trackPageview();
   } catch(err) {}

   }
   //]]>
  </script>
  <!-- Google Analytics Ends -->
 </body>
</html>

 
