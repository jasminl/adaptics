<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>

<title>visio::Kernel&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>visio</b>      </li>
      <li class="navelem"><a class="el" href="classvisio_1_1_kernel.html">Kernel</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">visio::Kernel&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="visio::Kernel" -->
<p>Convolution kernels.  
 <a href="classvisio_1_1_kernel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_kernel_8h_source.html">Kernel.h</a>&gt;</code></p>

<p><a href="classvisio_1_1_kernel-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>NO_RECREATE_KER</b>, 
<b>RECREATE_KER</b>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#abaf0b763ac8a7bd78aa5a91de73370a6">Kernel</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ad70643760d5cd2b62766e8c5f97f180e">Kernel</a> (double orientation, double sigma1, double sigma2, double clipThres)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#aa91db50f2e50e965eb8fdfdb972567e7">Kernel</a> (unsigned int <a class="el" href="classvisio_1_1_kernel.html#a7fc1d7d5ab46ddee643ea20fe6607521">hsize</a>, unsigned int <a class="el" href="classvisio_1_1_kernel.html#a1bed5746f9b9bc6029b996769f819575">vsize</a>, double orientation, double sigma1, double sigma2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a0f2b80724e650cf89bba37f7872e461f">~Kernel</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a1bed5746f9b9bc6029b996769f819575">vsize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a7fc1d7d5ab46ddee643ea20fe6607521">hsize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a11f00f98c0c31c5528f514af5018bee3">remove</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#af3314979e24a20bc64315c8567ae88bd">set_central</a> (T value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ae6e3fd6caad450cbcbde22acfd79ed5d">is_used</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#aa2f0618f88cb88c273360bce401293a9">is_even</a> (unsigned int sz1, unsigned int sz2) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#abe46e023ea54848d6c39a7aea9732083">determine_size</a> (T thres)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#aa78d9ba427020f0478cf371a07fc3969">weight</a> (T w)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a22be0193141e2877d5725237f4e15548">set_intrinsic_weight</a> (T w)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a1b205948df0d79f0ba5bb53bb057a218">convolve</a> (T *matrix, unsigned int mvsize, unsigned mhsize, T *result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a9936b64a50fd645fb3d2257dcfbb0c67">convolve_rectified</a> (T *matrix, unsigned int mvsize, unsigned mhsize, T *result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ac1c47139c60484771aca8674690f7cc2">convolve_rectified_squared</a> (T *matrix, unsigned int mvsize, unsigned mhsize, T *result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a27ccbc26e7ad6a5b9e9931941353e917">make_kernel</a> (T *buffer=NULL, T <a class="el" href="classvisio_1_1_kernel.html#aa78d9ba427020f0478cf371a07fc3969">weight</a>=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a50672e182bd385f51f0aff01bda83d9f">show_kernel</a> (unsigned int precision) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ad1eb0df444a0c0cacc3fc9bed12f6cda">print_kernel</a> (string fname, int recreate)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#aa16e94b59fc8c1bd815d1e76afc25490">modulate_unit</a> (T term, int row=-1, int column=-1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ae18b81f5b55d92a95501787828efcf16">svd</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#af0ab95b93001cada3ea061434b8183a2">set_dft</a> (unsigned int mvsize, unsigned int mhsize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a976ba0f21c31615fa8ab2b6d564546c9">center_kernel</a> (double *ker, unsigned int kerVSize, unsigned int kerHSize, double *output, unsigned int vSize, unsigned int hSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a39e012e7bb32d61caba7a44804e9a730">conv_dft</a> (double *image, double *result, unsigned <a class="el" href="classvisio_1_1_kernel.html#a1bed5746f9b9bc6029b996769f819575">vsize</a>, unsigned <a class="el" href="classvisio_1_1_kernel.html#a7fc1d7d5ab46ddee643ea20fe6607521">hsize</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ac2dc7157dde16aebf50afdacf253aea9">conv_sep</a> (T *matrix, unsigned int mvsize, unsigned mhsize, T *result, T *buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a96cdec9226b9373ba0b205da038e2054">conv_sep_rectified</a> (T *matrix, unsigned int mvsize, unsigned mhsize, T *result, T *buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a204db02f5ef0077535c868f94f4bd7bf">conv_sep_rectified_squared</a> (T *matrix, unsigned int mvsize, unsigned mhsize, T *result, T *buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classvisio_1_1_kernel.html">Kernel</a>&lt; T &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a318891d06d5d4635a34f75c273f764a0">operator=</a> (const <a class="el" href="classvisio_1_1_kernel.html">Kernel</a>&lt; T &gt; &amp;a)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465">_hsize</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Horizontal size.  <a href="#ad2711eb60ce4e8d61115059bd915a465"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a">_vsize</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Vertical size.  <a href="#a98f2f8508da81e5ba21ee34bb289874a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a6bd6dc8dd700f159b34cf822991d4dc7">_orientation</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Orientation (in rads)  <a href="#a6bd6dc8dd700f159b34cf822991d4dc7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#add4998c8a0aaddafe3a9f218d302e026">_sigma1</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard deviation of Gaussian in one direction.  <a href="#add4998c8a0aaddafe3a9f218d302e026"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ae8c2f4998a02a89c9a7ceaef55945d8d">_sigma2</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard deviation of Gaussian in other direction.  <a href="#ae8c2f4998a02a89c9a7ceaef55945d8d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a988214bdc7a27c10abfcc324c271be7a">_clipSize</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Threshold value at which kernel is truncated.  <a href="#a988214bdc7a27c10abfcc324c271be7a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a73d6c48187e591d75714b4c4d0fbbbd3">_intrinsic_weight</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Weighting coefficient present in the kernel's equation.  <a href="#a73d6c48187e591d75714b4c4d0fbbbd3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14">_kernel</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The kernel data.  <a href="#ae5a48004e39ed54f31a1a2a1f4360c14"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7">_mask1</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">First SV mask (rows)  <a href="#aa099ea9a287e07b8e1bc0bbe3f3b43a7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8">_mask2</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Second SV mask (cols)  <a href="#a5e7df3e8639fd52ae50570238df3f0d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fftw_complex *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100">_dft</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FFT coefficients for kernel.  <a href="#a3c079a49665d1e3e7c2af0309f059100"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fftw_complex *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293">_image</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FFT coefficients for convolved image.  <a href="#aa7eeea3e727d75f477cf00f7d2926293"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fftw_plan&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ad96ccc579e3ef14f6978dafb9cd135d3">_plan</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FFT plan to generate kernel's FFT.  <a href="#ad96ccc579e3ef14f6978dafb9cd135d3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fftw_plan&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a53db20c23623cc15b72c45f49ec73691">_upPlan</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FFT plan to perform convolution.  <a href="#a53db20c23623cc15b72c45f49ec73691"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">fftw_plan&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#abf4e8e04a971fd158897175306731a45">_downPlan</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FFT plan for inverse transform.  <a href="#abf4e8e04a971fd158897175306731a45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a05f6d8e111db380235cb66850c62ef6c">_result</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Noncentered FFT output.  <a href="#a05f6d8e111db380235cb66850c62ef6c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6">_pad</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Padded array for input image.  <a href="#a8f2ab959f8a11964bf399a93215f86d6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ad7fad7b15f27fbb0fd9e74e198715d70">_dftVSize</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Vertical size of padded array.  <a href="#ad7fad7b15f27fbb0fd9e74e198715d70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403">_dftHSize</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Horizontal size of padded array.  <a href="#ac55dbd3c17747c517ddf0cc418453403"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br/>
class visio::Kernel&lt; T &gt;</h3>

<p>Convolution kernels. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00019">19</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abaf0b763ac8a7bd78aa5a91de73370a6"></a><!-- doxytag: member="visio::Kernel::Kernel" ref="abaf0b763ac8a7bd78aa5a91de73370a6" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html">Kernel</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Default constructor </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00031">31</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a> = <span class="keyword">nullptr</span>;
                <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a> = <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> = 0;
                <a class="code" href="classvisio_1_1_kernel.html#a6bd6dc8dd700f159b34cf822991d4dc7" title="Orientation (in rads)">_orientation</a> = -1;
                <a class="code" href="classvisio_1_1_kernel.html#add4998c8a0aaddafe3a9f218d302e026" title="Standard deviation of Gaussian in one direction.">_sigma1</a> = <a class="code" href="classvisio_1_1_kernel.html#ae8c2f4998a02a89c9a7ceaef55945d8d" title="Standard deviation of Gaussian in other direction.">_sigma2</a> = -1;
                <a class="code" href="classvisio_1_1_kernel.html#a73d6c48187e591d75714b4c4d0fbbbd3" title="Weighting coefficient present in the kernel&#39;s equation.">_intrinsic_weight</a> = 1;
                <a class="code" href="classvisio_1_1_kernel.html#a988214bdc7a27c10abfcc324c271be7a" title="Threshold value at which kernel is truncated.">_clipSize</a> = 0;
                <a class="code" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7" title="First SV mask (rows)">_mask1</a> = <a class="code" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8" title="Second SV mask (cols)">_mask2</a> = <span class="keyword">nullptr</span>;
                <a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a> = <a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a> = <span class="keyword">nullptr</span>;
                <a class="code" href="classvisio_1_1_kernel.html#a05f6d8e111db380235cb66850c62ef6c" title="Noncentered FFT output.">_result</a> = <span class="keyword">nullptr</span>;
                <a class="code" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6" title="Padded array for input image.">_pad</a> = <span class="keyword">nullptr</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ad70643760d5cd2b62766e8c5f97f180e"></a><!-- doxytag: member="visio::Kernel::Kernel" ref="ad70643760d5cd2b62766e8c5f97f180e" args="(double orientation, double sigma1, double sigma2, double clipThres)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html">Kernel</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>orientation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sigma1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sigma2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>clipThres</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor when size of kernel is unknown but clipThreshold is known. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">orientation</td><td>Orientation of the kernel. </td></tr>
    <tr><td class="paramname">sigma1</td><td>Spread along the principal axis. </td></tr>
    <tr><td class="paramname">sigma2</td><td>Spread along the minor axis. </td></tr>
    <tr><td class="paramname">clipThres</td><td>Threshold below which values are set to zero. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00052">52</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        :<a class="code" href="classvisio_1_1_kernel.html#a6bd6dc8dd700f159b34cf822991d4dc7" title="Orientation (in rads)">_orientation</a>(orientation), <a class="code" href="classvisio_1_1_kernel.html#add4998c8a0aaddafe3a9f218d302e026" title="Standard deviation of Gaussian in one direction.">_sigma1</a>(sigma1), <a class="code" href="classvisio_1_1_kernel.html#ae8c2f4998a02a89c9a7ceaef55945d8d" title="Standard deviation of Gaussian in other direction.">_sigma2</a>(sigma2), <a class="code" href="classvisio_1_1_kernel.html#a988214bdc7a27c10abfcc324c271be7a" title="Threshold value at which kernel is truncated.">_clipSize</a>(clipThres)
        {
                <a class="code" href="classvisio_1_1_kernel.html#abe46e023ea54848d6c39a7aea9732083">determine_size</a>(clipThres);
                <a class="code" href="classvisio_1_1_kernel.html#a27ccbc26e7ad6a5b9e9931941353e917">make_kernel</a>();

                <a class="code" href="classvisio_1_1_kernel.html#a73d6c48187e591d75714b4c4d0fbbbd3" title="Weighting coefficient present in the kernel&#39;s equation.">_intrinsic_weight</a> = 1;
                <a class="code" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7" title="First SV mask (rows)">_mask1</a> = <a class="code" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8" title="Second SV mask (cols)">_mask2</a> = <span class="keyword">nullptr</span>;
                <a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a> = <a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a> = <span class="keyword">nullptr</span>;
                <a class="code" href="classvisio_1_1_kernel.html#a05f6d8e111db380235cb66850c62ef6c" title="Noncentered FFT output.">_result</a> = <span class="keyword">nullptr</span>;

                <a class="code" href="classvisio_1_1_kernel.html#ad7fad7b15f27fbb0fd9e74e198715d70" title="Vertical size of padded array.">_dftVSize</a> = <a class="code" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403" title="Horizontal size of padded array.">_dftHSize</a> = 0;
                <a class="code" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6" title="Padded array for input image.">_pad</a> = <span class="keyword">nullptr</span>;

        }
</pre></div>
</div>
</div>
<a class="anchor" id="aa91db50f2e50e965eb8fdfdb972567e7"></a><!-- doxytag: member="visio::Kernel::Kernel" ref="aa91db50f2e50e965eb8fdfdb972567e7" args="(unsigned int hsize, unsigned int vsize, double orientation, double sigma1, double sigma2)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html">Kernel</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>hsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>vsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>orientation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sigma1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sigma2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor when clip is unknown but size is known. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hsize</td><td>Horizontal size of kernel. </td></tr>
    <tr><td class="paramname">vsize</td><td>Vertical size of kernel. </td></tr>
    <tr><td class="paramname">orientation</td><td>Orientation of kernel. </td></tr>
    <tr><td class="paramname">sigma1</td><td>Spread along the principal axis. </td></tr>
    <tr><td class="paramname">sigma2</td><td>Spread along the minor axis. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00076">76</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        :<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>(<a class="code" href="classvisio_1_1_kernel.html#a7fc1d7d5ab46ddee643ea20fe6607521">hsize</a>), <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>(<a class="code" href="classvisio_1_1_kernel.html#a1bed5746f9b9bc6029b996769f819575">vsize</a>), <a class="code" href="classvisio_1_1_kernel.html#a6bd6dc8dd700f159b34cf822991d4dc7" title="Orientation (in rads)">_orientation</a>(orientation), <a class="code" href="classvisio_1_1_kernel.html#add4998c8a0aaddafe3a9f218d302e026" title="Standard deviation of Gaussian in one direction.">_sigma1</a>(sigma1), <a class="code" href="classvisio_1_1_kernel.html#ae8c2f4998a02a89c9a7ceaef55945d8d" title="Standard deviation of Gaussian in other direction.">_sigma2</a>(sigma2)
        {
                <span class="keywordflow">if</span>(<a class="code" href="classvisio_1_1_kernel.html#aa2f0618f88cb88c273360bce401293a9">is_even</a>(<a class="code" href="classvisio_1_1_kernel.html#a7fc1d7d5ab46ddee643ea20fe6607521">hsize</a>, <a class="code" href="classvisio_1_1_kernel.html#a1bed5746f9b9bc6029b996769f819575">vsize</a>))
                        <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;kernel&lt;T&gt;::kernel: size must be odd.&quot;</span>);

                <a class="code" href="classvisio_1_1_kernel.html#a27ccbc26e7ad6a5b9e9931941353e917">make_kernel</a>();

                <a class="code" href="classvisio_1_1_kernel.html#a73d6c48187e591d75714b4c4d0fbbbd3" title="Weighting coefficient present in the kernel&#39;s equation.">_intrinsic_weight</a> = 1;
                <a class="code" href="classvisio_1_1_kernel.html#a988214bdc7a27c10abfcc324c271be7a" title="Threshold value at which kernel is truncated.">_clipSize</a> = 0;

                <a class="code" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7" title="First SV mask (rows)">_mask1</a> = <a class="code" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8" title="Second SV mask (cols)">_mask2</a> = <span class="keyword">nullptr</span>;
                <a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a> = <a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a> = <span class="keyword">nullptr</span>;
                <a class="code" href="classvisio_1_1_kernel.html#a05f6d8e111db380235cb66850c62ef6c" title="Noncentered FFT output.">_result</a> = <a class="code" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6" title="Padded array for input image.">_pad</a> = <span class="keyword">nullptr</span>;

                <a class="code" href="classvisio_1_1_kernel.html#ad7fad7b15f27fbb0fd9e74e198715d70" title="Vertical size of padded array.">_dftVSize</a> = <a class="code" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403" title="Horizontal size of padded array.">_dftHSize</a> = 0;

        }
</pre></div>
</div>
</div>
<a class="anchor" id="a0f2b80724e650cf89bba37f7872e461f"></a><!-- doxytag: member="visio::Kernel::~Kernel" ref="a0f2b80724e650cf89bba37f7872e461f" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::~<a class="el" href="classvisio_1_1_kernel.html">Kernel</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00098">98</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keyword">remove</span>();
        }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a976ba0f21c31615fa8ab2b6d564546c9"></a><!-- doxytag: member="visio::Kernel::center_kernel" ref="a976ba0f21c31615fa8ab2b6d564546c9" args="(double *ker, unsigned int kerVSize, unsigned int kerHSize, double *output, unsigned int vSize, unsigned int hSize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a976ba0f21c31615fa8ab2b6d564546c9">center_kernel</a> </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>ker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>kerVSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>kerHSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>vSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>hSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>To center the kernel such that middle is in location [0 0] for FFT convolutions. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ker</td><td><a class="el" href="classvisio_1_1_kernel.html" title="Convolution kernels.">Kernel</a> to center. </td></tr>
    <tr><td class="paramname">kerVSize</td><td>Vertical size of the kernel. </td></tr>
    <tr><td class="paramname">kerHSize</td><td>Horizontal size of the kernel. </td></tr>
    <tr><td class="paramname">output</td><td>Array containing the padded centered kernel. </td></tr>
    <tr><td class="paramname">vSize</td><td>Vertical size of the array containing the padded centered kernel. </td></tr>
    <tr><td class="paramname">hSize</td><td>Horizontal size of the array containing the padded centered kernel. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00600">600</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hbound = (kerHSize-1)/2;
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vbound = (kerVSize-1)/2;

                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
                <span class="keywordtype">double</span>* p = output;
                <span class="keywordtype">double</span>* q = ker;

                <span class="comment">//1. Copy lower right corner</span>
                <span class="keywordflow">for</span>(i=0;i&lt;vbound+1;i++)
                {
                        memcpy(p,q+(kerVSize*i)+kerVSize*hbound+hbound,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>) * (hbound+1));
                        p+=hSize;
                }

                <span class="comment">//2. Copy upper right corner</span>
                p = output+hSize*(vSize-vbound);
                <span class="keywordflow">for</span>(i=0;i&lt;vbound;i++)
                {
                        memcpy(p,q+(kerVSize*i)+hbound,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>) * (hbound+1));
                        p+= hSize;
                }

                <span class="comment">//3. Copy lower left corner</span>
                p = output + hSize-hbound;
                <span class="keywordflow">for</span>(i=0;i&lt;vbound+1;i++)
                {
                        memcpy(p,q+(kerVSize*i)+kerVSize*hbound,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>) * hbound);
                        p+= hSize;
                }

                <span class="comment">//4. Copy upper left corner</span>
                p = output + hSize*(vSize-vbound) + (hSize-hbound);
                <span class="keywordflow">for</span>(i=0;i&lt;vbound;i++)
                {
                        memcpy(p,q+kerVSize*i,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*hbound);
                        p+= hSize;
                }
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a39e012e7bb32d61caba7a44804e9a730"></a><!-- doxytag: member="visio::Kernel::conv_dft" ref="a39e012e7bb32d61caba7a44804e9a730" args="(double *image, double *result, unsigned vsize, unsigned hsize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a39e012e7bb32d61caba7a44804e9a730">conv_dft</a> </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>vsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>hsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>FFT convolution </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td><a class="el" href="classvisio_1_1_input.html" title="Input Layer for 3D formotion.">Input</a> frame to convolve. </td></tr>
    <tr><td class="paramname">result</td><td>Array in which to store the result. </td></tr>
    <tr><td class="paramname">vsize</td><td>Vertical size of the input frame. </td></tr>
    <tr><td class="paramname">hsize</td><td>Horizontal size of the input frame. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00648">648</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i,j,ij=0;

                <span class="keywordtype">double</span>* pim = image;
                <span class="keywordtype">double</span>* ppa = <a class="code" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6" title="Padded array for input image.">_pad</a>;

                <span class="comment">//TODO: remove some of these?</span>
                memset(<a class="code" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6" title="Padded array for input image.">_pad</a>,0,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*<a class="code" href="classvisio_1_1_kernel.html#ad7fad7b15f27fbb0fd9e74e198715d70" title="Vertical size of padded array.">_dftVSize</a>*<a class="code" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403" title="Horizontal size of padded array.">_dftHSize</a>);
                memset(<a class="code" href="classvisio_1_1_kernel.html#a05f6d8e111db380235cb66850c62ef6c" title="Noncentered FFT output.">_result</a>,0,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*<a class="code" href="classvisio_1_1_kernel.html#ad7fad7b15f27fbb0fd9e74e198715d70" title="Vertical size of padded array.">_dftVSize</a>*<a class="code" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403" title="Horizontal size of padded array.">_dftHSize</a>);
                memset(<a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a>,0,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*<a class="code" href="classvisio_1_1_kernel.html#ad7fad7b15f27fbb0fd9e74e198715d70" title="Vertical size of padded array.">_dftVSize</a>*(<a class="code" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403" title="Horizontal size of padded array.">_dftHSize</a>/2+1));

                <span class="comment">//0. Copy into padded array</span>
                <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="classvisio_1_1_kernel.html#a1bed5746f9b9bc6029b996769f819575">vsize</a>;i++)
                {
                        memcpy(ppa,pim,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*<a class="code" href="classvisio_1_1_kernel.html#a7fc1d7d5ab46ddee643ea20fe6607521">hsize</a>);
                        pim  += <a class="code" href="classvisio_1_1_kernel.html#a7fc1d7d5ab46ddee643ea20fe6607521">hsize</a>;
                        ppa  += <a class="code" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403" title="Horizontal size of padded array.">_dftHSize</a>;
                }

                <span class="comment">//1. Perform DFT</span>
                fftw_execute(<a class="code" href="classvisio_1_1_kernel.html#a53db20c23623cc15b72c45f49ec73691" title="FFT plan to perform convolution.">_upPlan</a>);

                <span class="keywordtype">double</span> buf;
                <span class="keywordtype">double</span> scale = 1.0/(<a class="code" href="classvisio_1_1_kernel.html#ad7fad7b15f27fbb0fd9e74e198715d70" title="Vertical size of padded array.">_dftVSize</a>*<a class="code" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403" title="Horizontal size of padded array.">_dftHSize</a>);

                ij=0;
                <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="classvisio_1_1_kernel.html#ad7fad7b15f27fbb0fd9e74e198715d70" title="Vertical size of padded array.">_dftVSize</a>;i++)
                {
                        <span class="keywordflow">for</span>(j=0;j&lt;<a class="code" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403" title="Horizontal size of padded array.">_dftHSize</a>/2+1;j++)
                        {
                                buf = (<a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a>[ij][0]*<a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a>[ij][0] - <a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a>[ij][1]*<a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a>[ij][1])*scale;
                                <a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a>[ij][1] = (<a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a>[ij][0]*<a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a>[ij][1] + <a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a>[ij][1]*<a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a>[ij][0])*scale;
                                <a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a>[ij][0] = buf;

                                ij++;
                        }
                }

                <span class="comment">//3. Inverse DFT</span>
                fftw_execute(<a class="code" href="classvisio_1_1_kernel.html#abf4e8e04a971fd158897175306731a45" title="FFT plan for inverse transform.">_downPlan</a>);

                <span class="comment">//4. Copy to result array</span>
                <span class="keywordtype">double</span>* pres = result;
                <span class="keywordtype">double</span>* pinv = <a class="code" href="classvisio_1_1_kernel.html#a05f6d8e111db380235cb66850c62ef6c" title="Noncentered FFT output.">_result</a>;

                <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="classvisio_1_1_kernel.html#a1bed5746f9b9bc6029b996769f819575">vsize</a>;i++)
                {
                        memcpy(pres,pinv,<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>)*<a class="code" href="classvisio_1_1_kernel.html#a7fc1d7d5ab46ddee643ea20fe6607521">hsize</a>);
                        pres += <a class="code" href="classvisio_1_1_kernel.html#a7fc1d7d5ab46ddee643ea20fe6607521">hsize</a>;
                        pinv += <a class="code" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403" title="Horizontal size of padded array.">_dftHSize</a>;
                }

        }
</pre></div>
</div>
</div>
<a class="anchor" id="ac2dc7157dde16aebf50afdacf253aea9"></a><!-- doxytag: member="visio::Kernel::conv_sep" ref="ac2dc7157dde16aebf50afdacf253aea9" args="(T *matrix, unsigned int mvsize, unsigned mhsize, T *result, T *buffer)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#ac2dc7157dde16aebf50afdacf253aea9">conv_sep</a> </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mvsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mhsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Separable convolution. Convolves using m_mask1 and m_mask2 for separable kernels. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">matrix</td><td><a class="el" href="classvisio_1_1_input.html" title="Input Layer for 3D formotion.">Input</a> frame. </td></tr>
    <tr><td class="paramname">mvsize</td><td>Vertical size of the input frame. </td></tr>
    <tr><td class="paramname">mhsize</td><td>Horizontal size of the input frame. </td></tr>
    <tr><td class="paramname">result</td><td>Array storing the result of the convolution. </td></tr>
    <tr><td class="paramname">buffer</td><td>Array used as buffer as part of the computations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the array storing the result. </dd></dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00712">712</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                T* pRes = buffer;
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i,j,k;

                <span class="comment">//Convolve 1D on rows, store in &#39;result&#39;</span>
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hMargin = (<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>-1)/2;
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vMargin = (<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>-1)/2;

                <span class="keywordflow">for</span>(i=0;i&lt;mvsize;i++)
                {
                        <span class="keywordflow">for</span>(j=0;j&lt;mhsize;j++)
                        {
                                *pRes = 0;

                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhBegin = min(hMargin,j);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhEnd   = min(hMargin,mhsize-j-1);

                T* p = matrix + mhsize*i + j-dhBegin;
                                T* q = &amp;<a class="code" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8" title="Second SV mask (cols)">_mask2</a>[hMargin-dhBegin];

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hDo    = dhEnd+dhBegin+1;

                                <span class="keywordflow">for</span>(k=0;k&lt;hDo;k++,p++,q++)
                                {
                                        *pRes += *q * *p;
                                }

                                pRes++;
                        }

                }

                pRes = result;

                <span class="comment">//Convolve 1D on cols, store in &#39;result&#39;</span>
                <span class="keywordflow">for</span>(i=0;i&lt;mvsize;i++)
                {
                        <span class="keywordflow">for</span>(j=0;j&lt;mhsize;j++)
                        {
                                *pRes = 0;

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvBegin = min(vMargin,i);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvEnd   = min(vMargin,mvsize-i-1);

                                T* p = buffer + mhsize*(i-dvBegin) + j;
                                T* q = &amp;<a class="code" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7" title="First SV mask (rows)">_mask1</a>[vMargin-dvBegin];

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vDo    = dvEnd+dvBegin+1;
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mhSkip = mhsize;<span class="comment">//hDo;</span>

                                <span class="keywordflow">for</span>(k=0;k&lt;vDo;k++,q++,p+= mhSkip)
                                {
                                        *pRes += *q * *p;
                                }

                                pRes++;
                        }
                }

                <span class="keywordflow">return</span> result;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a96cdec9226b9373ba0b205da038e2054"></a><!-- doxytag: member="visio::Kernel::conv_sep_rectified" ref="a96cdec9226b9373ba0b205da038e2054" args="(T *matrix, unsigned int mvsize, unsigned mhsize, T *result, T *buffer)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a96cdec9226b9373ba0b205da038e2054">conv_sep_rectified</a> </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mvsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mhsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convolves with rectification using m_mask1 and m_mask2 for separable kernels. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">matrix</td><td><a class="el" href="classvisio_1_1_input.html" title="Input Layer for 3D formotion.">Input</a> frame. </td></tr>
    <tr><td class="paramname">mvsize</td><td>Vertical size of the input frame. </td></tr>
    <tr><td class="paramname">mhsize</td><td>Horizontal size of the input frame. </td></tr>
    <tr><td class="paramname">result</td><td>Array storing the result of the convolution. </td></tr>
    <tr><td class="paramname">buffer</td><td>Array used as buffer as part of the computations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the array storing the result. </dd></dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00784">784</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                T* pRes = buffer;
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i,j,k;

                <span class="comment">//Convolve 1D on rows, store in &#39;result&#39;</span>
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hMargin = (<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>-1)/2;
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vMargin = (<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>-1)/2;

                <span class="keywordflow">for</span>(i=0;i&lt;mvsize;i++)
                {
                        <span class="keywordflow">for</span>(j=0;j&lt;mhsize;j++)
                        {
                                *pRes = 0;

                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhBegin = min(hMargin,j);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhEnd   = min(hMargin,mhsize-j-1);

                T* p = matrix + mhsize*i + j-dhBegin;
                                T* q = &amp;<a class="code" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8" title="Second SV mask (cols)">_mask2</a>[hMargin-dhBegin];

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hDo    = dhEnd+dhBegin+1;

                                <span class="keywordflow">for</span>(k=0;k&lt;hDo;k++,p++,q++)
                                {
                                        <span class="keywordflow">if</span>(*p&gt;0)
                                        *pRes += *q * *p;
                                }

                                pRes++;
                        }

                }

                pRes = result;

                <span class="comment">//Convolve 1D on cols, store in &#39;result&#39;</span>
                <span class="keywordflow">for</span>(i=0;i&lt;mvsize;i++)
                {
                        <span class="keywordflow">for</span>(j=0;j&lt;mhsize;j++)
                        {
                                *pRes = 0;

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvBegin = min(vMargin,i);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvEnd   = min(vMargin,mvsize-i-1);

                                T* p = buffer + mhsize*(i-dvBegin) + j;
                                T* q = &amp;<a class="code" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7" title="First SV mask (rows)">_mask1</a>[vMargin-dvBegin];

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vDo    = dvEnd+dvBegin+1;
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mhSkip = mhsize;<span class="comment">//hDo;</span>

                                <span class="keywordflow">for</span>(k=0;k&lt;vDo;k++,q++,p+= mhSkip)
                                {
                                        *pRes += *q * *p;
                                }

                                pRes++;
                        }
                }

                <span class="keywordflow">return</span> result;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a204db02f5ef0077535c868f94f4bd7bf"></a><!-- doxytag: member="visio::Kernel::conv_sep_rectified_squared" ref="a204db02f5ef0077535c868f94f4bd7bf" args="(T *matrix, unsigned int mvsize, unsigned mhsize, T *result, T *buffer)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a204db02f5ef0077535c868f94f4bd7bf">conv_sep_rectified_squared</a> </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mvsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mhsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convolves with rectification and squaring using m_mask1 and m_mask2 for separable kernels </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">matrix</td><td><a class="el" href="classvisio_1_1_input.html" title="Input Layer for 3D formotion.">Input</a> frame. </td></tr>
    <tr><td class="paramname">mvsize</td><td>Vertical size of the input frame. </td></tr>
    <tr><td class="paramname">mhsize</td><td>Horizontal size of the input frame. </td></tr>
    <tr><td class="paramname">result</td><td>Array storing the result of the convolution. </td></tr>
    <tr><td class="paramname">buffer</td><td>Array used as buffer as part of the computations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the array storing the result. </dd></dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00857">857</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                T* pRes = buffer;
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i,j,k;

                <span class="comment">//Convolve 1D on rows, store in &#39;result&#39;</span>
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hMargin = (<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>-1)/2;
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vMargin = (<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>-1)/2;

                <span class="keywordflow">for</span>(i=0;i&lt;mvsize;i++)
                {
                        <span class="keywordflow">for</span>(j=0;j&lt;mhsize;j++)
                        {
                                *pRes = 0;

                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhBegin = min(hMargin,j);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhEnd   = min(hMargin,mhsize-j-1);

                T* p = matrix + mhsize*i + j-dhBegin;
                                T* q = &amp;<a class="code" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8" title="Second SV mask (cols)">_mask2</a>[hMargin-dhBegin];

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hDo    = dhEnd+dhBegin+1;

                                <span class="keywordflow">for</span>(k=0;k&lt;hDo;k++,p++,q++)
                                {
                                        <span class="keywordflow">if</span>(*p&gt;0)
                                        *pRes += *q * *p * *p;
                                }

                                pRes++;
                        }

                }

                pRes = result;

                <span class="comment">//Convolve 1D on cols, store in &#39;result&#39;</span>
                <span class="keywordflow">for</span>(i=0;i&lt;mvsize;i++)
                {
                        <span class="keywordflow">for</span>(j=0;j&lt;mhsize;j++)
                        {
                                *pRes = 0;

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvBegin = min(vMargin,i);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvEnd   = min(vMargin,mvsize-i-1);

                                T* p = buffer + mhsize*(i-dvBegin) + j;
                                T* q = &amp;<a class="code" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7" title="First SV mask (rows)">_mask1</a>[vMargin-dvBegin];

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vDo    = dvEnd+dvBegin+1;
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mhSkip = mhsize;<span class="comment">//hDo;</span>

                                <span class="keywordflow">for</span>(k=0;k&lt;vDo;k++,q++,p+= mhSkip)
                                {
                                        *pRes += *q * *p ;
                                }

                                pRes++;
                        }
                }

                <span class="keywordflow">return</span> result;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a1b205948df0d79f0ba5bb53bb057a218"></a><!-- doxytag: member="visio::Kernel::convolve" ref="a1b205948df0d79f0ba5bb53bb057a218" args="(T *matrix, unsigned int mvsize, unsigned mhsize, T *result)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a1b205948df0d79f0ba5bb53bb057a218">convolve</a> </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mvsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mhsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Regular 2D convolution. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">matrix</td><td><a class="el" href="classvisio_1_1_input.html" title="Input Layer for 3D formotion.">Input</a> array to convolve. </td></tr>
    <tr><td class="paramname">mvsize</td><td>Vertical size of the input. </td></tr>
    <tr><td class="paramname">mhsize</td><td>Horizontal size of the input. </td></tr>
    <tr><td class="paramname">result</td><td>Array containing the result of the convolution. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the resulting array. </dd></dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00261">261</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, j, k, g;
                T* pRes = result;

                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hMargin = (<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> - 1) / 2;
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vMargin = (<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a> - 1) / 2;

                <span class="keywordflow">for</span>(i = 0; i &lt; mvsize; i++)
                {
                        <span class="keywordflow">for</span>(j = 0; j &lt; mhsize; j++)
                        {
                                *pRes = 0;
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvBegin = min(vMargin,i);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvEnd   = min(vMargin,mvsize-i-1);
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhBegin = min(hMargin,j);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhEnd   = min(hMargin,mhsize-j-1);

                T* p = matrix + mhsize*(i-dvBegin) + j-dhBegin;
                                T* q = &amp;<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>[(vMargin-dvBegin)*<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> + hMargin-dhBegin];

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vDo    = dvEnd+dvBegin+1;
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hDo    = dhEnd+dhBegin+1;

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hSkip  = <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> - hDo;
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mhSkip = mhsize - hDo;

                                <span class="keywordflow">for</span>(k=0;k&lt;vDo;k++)
                                {
                                        <span class="keywordflow">for</span>(g=0;g&lt;hDo;g++,p++,q++)
                                        {
                                                *pRes += *q * *p;

                                        }

                                        q+= hSkip;
                                        p+= mhSkip;
                                }

                                pRes++;
                        }
                }

                <span class="keywordflow">return</span> result;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a9936b64a50fd645fb3d2257dcfbb0c67"></a><!-- doxytag: member="visio::Kernel::convolve_rectified" ref="a9936b64a50fd645fb3d2257dcfbb0c67" args="(T *matrix, unsigned int mvsize, unsigned mhsize, T *result)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a9936b64a50fd645fb3d2257dcfbb0c67">convolve_rectified</a> </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mvsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mhsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convolution with additional rectification </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">matrix</td><td><a class="el" href="classvisio_1_1_input.html" title="Input Layer for 3D formotion.">Input</a> array to convolve. </td></tr>
    <tr><td class="paramname">mvsize</td><td>Vertical size of the input. </td></tr>
    <tr><td class="paramname">mhsize</td><td>Horizontal size of the input. </td></tr>
    <tr><td class="paramname">result</td><td>Array containing the result of the convolution. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the resulting array. </dd></dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00315">315</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i,j,k,g;
                T* pRes = result;

                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hMargin = (<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>-1)/2;
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vMargin = (<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>-1)/2;

                <span class="keywordflow">for</span>(i=0;i&lt;mvsize;i++)
                {
                        <span class="keywordflow">for</span>(j=0;j&lt;mhsize;j++)
                        {
                                *pRes = 0;

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvBegin = min(vMargin,i);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvEnd   = min(vMargin,mvsize-i-1);
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhBegin = min(hMargin,j);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhEnd   = min(hMargin,mhsize-j-1);

                T* p = matrix + mhsize*(i-dvBegin) + j-dhBegin;
                                T* q = &amp;<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>[(vMargin-dvBegin)*<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> + hMargin-dhBegin];

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vDo    = dvEnd+dvBegin+1;
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hDo    = dhEnd+dhBegin+1;

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hSkip  = <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> - hDo;
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mhSkip = mhsize - hDo;

                                <span class="keywordflow">for</span>(k=0;k&lt;vDo;k++)
                                {
                                        <span class="keywordflow">for</span>(g=0;g&lt;hDo;g++,p++,q++)
                                        {
                                                <span class="keywordflow">if</span>( *p &gt; 0 )    <span class="comment">//This is the only difference with the non-rectified version</span>
                                                        *pRes += *q * *p;
                                        }

                                        q+= hSkip;
                                        p+= mhSkip;
                                }

                                pRes++;
                        }
                }

                <span class="keywordflow">return</span> result;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ac1c47139c60484771aca8674690f7cc2"></a><!-- doxytag: member="visio::Kernel::convolve_rectified_squared" ref="ac1c47139c60484771aca8674690f7cc2" args="(T *matrix, unsigned int mvsize, unsigned mhsize, T *result)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#ac1c47139c60484771aca8674690f7cc2">convolve_rectified_squared</a> </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mvsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>mhsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convolution with additional rectification and squaring </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">matrix</td><td><a class="el" href="classvisio_1_1_input.html" title="Input Layer for 3D formotion.">Input</a> array to convolve. </td></tr>
    <tr><td class="paramname">mvsize</td><td>Vertical size of the input. </td></tr>
    <tr><td class="paramname">mhsize</td><td>Horizontal size of the input. </td></tr>
    <tr><td class="paramname">result</td><td>Array containing the result of the convolution. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the resulting array. </dd></dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00371">371</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i,j,k,g;
                T* pRes = result;

                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hMargin = (<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>-1)/2;
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vMargin = (<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>-1)/2;

                <span class="keywordflow">for</span>(i=0;i&lt;mvsize;i++)
                {
                        <span class="keywordflow">for</span>(j=0;j&lt;mhsize;j++)
                        {
                                *pRes = 0;

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvBegin = min(vMargin,i);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dvEnd   = min(vMargin,mvsize-i-1);
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhBegin = min(hMargin,j);
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dhEnd   = min(hMargin,mhsize-j-1);

                T* p = matrix + mhsize*(i-dvBegin) + j-dhBegin;
                                T* q = &amp;<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>[(vMargin-dvBegin)*<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> + hMargin-dhBegin];

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vDo    = dvEnd+dvBegin+1;
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hDo    = dhEnd+dhBegin+1;

                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> hSkip  = <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> - hDo;
                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mhSkip = mhsize - hDo;

                                <span class="keywordflow">for</span>(k=0;k&lt;vDo;k++)
                                {
                                        <span class="keywordflow">for</span>(g=0;g&lt;hDo;g++,p++,q++)
                                        {
                                                <span class="keywordflow">if</span>( *p &gt; 0 )    <span class="comment">//This is the only difference with the previous version</span>
                                                        *pRes += *q * *p * *p;
                                        }

                                        q+= hSkip;
                                        p+= mhSkip;
                                }

                                pRes++;
                        }
                }

                <span class="keywordflow">return</span> result;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="abe46e023ea54848d6c39a7aea9732083"></a><!-- doxytag: member="visio::Kernel::determine_size" ref="abe46e023ea54848d6c39a7aea9732083" args="(T thres)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#abe46e023ea54848d6c39a7aea9732083">determine_size</a> </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>thres</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determines size of kernel (always a square). </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">thres</td><td>the threshold below which weights are considered 0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the size of one side of the kernel. </dd></dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00211">211</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordtype">double</span> sig = max(<a class="code" href="classvisio_1_1_kernel.html#add4998c8a0aaddafe3a9f218d302e026" title="Standard deviation of Gaussian in one direction.">_sigma1</a>, <a class="code" href="classvisio_1_1_kernel.html#ae8c2f4998a02a89c9a7ceaef55945d8d" title="Standard deviation of Gaussian in other direction.">_sigma2</a>);

                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> loc = 0;

                T cT;

                <span class="keywordflow">do</span>
                {
                        cT = exp(-0.5 *  pow(loc / sig, 2));
                        loc++;

                }<span class="keywordflow">while</span>(cT &gt; thres);
                loc--;

                <span class="keywordflow">return</span> <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> = <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a> = 2 * loc + 1;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a7fc1d7d5ab46ddee643ea20fe6607521"></a><!-- doxytag: member="visio::Kernel::hsize" ref="a7fc1d7d5ab46ddee643ea20fe6607521" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a7fc1d7d5ab46ddee643ea20fe6607521">hsize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>Horizontal size of kernel. </dd></dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00142">142</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordflow">return</span> <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="aa2f0618f88cb88c273360bce401293a9"></a><!-- doxytag: member="visio::Kernel::is_even" ref="aa2f0618f88cb88c273360bce401293a9" args="(unsigned int sz1, unsigned int sz2) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#aa2f0618f88cb88c273360bce401293a9">is_even</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sz1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sz2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Indicates whether the sizes passed as argument are odd or even. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sz1</td><td>The first potential (vertical or horizontal) size to test. </td></tr>
    <tr><td class="paramname">sz2</td><td>The second potential (vertical or horizontal) size to test. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A Boolean flag indicating whether the proposed sizes satisfy the requirement that the kernel be odd. </dd></dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00201">201</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordflow">return</span> (!(sz1%2) || !(sz2%2));
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ae6e3fd6caad450cbcbde22acfd79ed5d"></a><!-- doxytag: member="visio::Kernel::is_used" ref="ae6e3fd6caad450cbcbde22acfd79ed5d" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#ae6e3fd6caad450cbcbde22acfd79ed5d">is_used</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>A boolean flag indicating whether the kernel is used or not. </dd></dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00190">190</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordflow">return</span> (<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a> != <span class="keyword">nullptr</span>);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a27ccbc26e7ad6a5b9e9931941353e917"></a><!-- doxytag: member="visio::Kernel::make_kernel" ref="a27ccbc26e7ad6a5b9e9931941353e917" args="(T *buffer=NULL, T weight=1)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a27ccbc26e7ad6a5b9e9931941353e917">make_kernel</a> </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>buffer</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>weight</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates the kernel. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>If NULL, creates m_kernel, otherwise uses buffer to store weights. </td></tr>
    <tr><td class="paramname">weight</td><td>This parameter is used to further manually weight the kernel (useful to weight by intrinsic weight when recreating). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00423">423</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                T* pker;

                <span class="keywordflow">if</span>(buffer==NULL)
                {
                        <a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a> = <span class="keyword">new</span> T[<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>*<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>];
                        pker = <a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>;
                }
                <span class="keywordflow">else</span>
                {
                        pker = buffer;
                }

                <span class="keywordtype">double</span> cx;
                <span class="keywordtype">double</span> cy;

                <span class="keywordflow">if</span>(!(<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>%2)) cx = <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>/2.0 - 0.5;                  <span class="comment">//Even size, shift center by half unit</span>
                <span class="keywordflow">else</span>                            cx = (<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>-1)/2.0 ;           <span class="comment">//Odd size</span>

                <span class="keywordflow">if</span>(!(<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>%2)) cy = <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>/2.0 - 0.5;                  <span class="comment">//Even size, shift center by half unit</span>
                <span class="keywordflow">else</span>                            cy = (<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>-1)/2.0 ;           <span class="comment">//Odd size</span>

                <span class="keywordtype">double</span> rot[2][2];
                rot[0][0] = cos(<a class="code" href="classvisio_1_1_kernel.html#a6bd6dc8dd700f159b34cf822991d4dc7" title="Orientation (in rads)">_orientation</a>);
                rot[0][1] = -sin(<a class="code" href="classvisio_1_1_kernel.html#a6bd6dc8dd700f159b34cf822991d4dc7" title="Orientation (in rads)">_orientation</a>);
                rot[1][0] = sin(<a class="code" href="classvisio_1_1_kernel.html#a6bd6dc8dd700f159b34cf822991d4dc7" title="Orientation (in rads)">_orientation</a>);
                rot[1][1] = cos(<a class="code" href="classvisio_1_1_kernel.html#a6bd6dc8dd700f159b34cf822991d4dc7" title="Orientation (in rads)">_orientation</a>);

                <span class="keyword">static</span> <span class="keywordtype">double</span> ni,nj;

                <span class="comment">//Note: j represents x coordinate, i represents y coordinate</span>
                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>;i++)
                {
                        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0;j&lt;<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>;j++)
                        {
                                nj = rot[0][0] * (j-cx) + rot[0][1] * (i-cy);
                                ni = rot[1][0] * (j-cx) + rot[1][1] * (i-cy);

                                pker[i*_hsize + j] =  <a class="code" href="classvisio_1_1_kernel.html#aa78d9ba427020f0478cf371a07fc3969">weight</a> * <span class="keyword">static_cast&lt;</span>T<span class="keyword">&gt;</span>(exp(-0.5 * ( pow(ni/<a class="code" href="classvisio_1_1_kernel.html#ae8c2f4998a02a89c9a7ceaef55945d8d" title="Standard deviation of Gaussian in other direction.">_sigma2</a>,2) + pow(nj/<a class="code" href="classvisio_1_1_kernel.html#add4998c8a0aaddafe3a9f218d302e026" title="Standard deviation of Gaussian in one direction.">_sigma1</a>,2)  )));
                        }
                }

        }
</pre></div>
</div>
</div>
<a class="anchor" id="aa16e94b59fc8c1bd815d1e76afc25490"></a><!-- doxytag: member="visio::Kernel::modulate_unit" ref="aa16e94b59fc8c1bd815d1e76afc25490" args="(T term, int row=&#45;1, int column=&#45;1)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#aa16e94b59fc8c1bd815d1e76afc25490">modulate_unit</a> </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>column</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Weights a particular connection. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">term</td><td>Quantity to add to the modulated weight. </td></tr>
    <tr><td class="paramname">row</td><td>Index of the row of the unit to modulate. </td></tr>
    <tr><td class="paramname">column</td><td>Index of the columns of the unit to modulate. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00527">527</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordflow">if</span>(row==-1 || column==-1)
                {
                        <span class="comment">//These particular indexes mean that the center unit must be modulated</span>
                        row    = <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>/2;
                        column = <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>/2;
                }

                <a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>[row*<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> + column] += term;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a318891d06d5d4635a34f75c273f764a0"></a><!-- doxytag: member="visio::Kernel::operator=" ref="a318891d06d5d4635a34f75c273f764a0" args="(const Kernel&lt; T &gt; &amp;a)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvisio_1_1_kernel.html">Kernel</a>&lt;T&gt;&amp; <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvisio_1_1_kernel.html">Kernel</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Assigns the value of a kernel to another. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>Base kernel from which to create a new kernel. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00929">929</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <a class="code" href="classvisio_1_1_kernel.html#a6bd6dc8dd700f159b34cf822991d4dc7" title="Orientation (in rads)">_orientation</a> = a._orientation;
                <a class="code" href="classvisio_1_1_kernel.html#add4998c8a0aaddafe3a9f218d302e026" title="Standard deviation of Gaussian in one direction.">_sigma1</a> = a._sigma1;
                <a class="code" href="classvisio_1_1_kernel.html#ae8c2f4998a02a89c9a7ceaef55945d8d" title="Standard deviation of Gaussian in other direction.">_sigma2</a> = a._sigma2;
                <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> = a._hsize;
                <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a> = a._vsize;

                <a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a> = <span class="keyword">new</span> T[<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>*<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>];

                memcpy(<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>,a._kernel,<span class="keyword">sizeof</span>(T)* <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> * <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>);

                <a class="code" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6" title="Padded array for input image.">_pad</a> = <span class="keyword">nullptr</span>;

                <a class="code" href="classvisio_1_1_kernel.html#a22be0193141e2877d5725237f4e15548">set_intrinsic_weight</a>(a._intrinsic_weight);
                <span class="keywordflow">return</span> *<span class="keyword">this</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ad1eb0df444a0c0cacc3fc9bed12f6cda"></a><!-- doxytag: member="visio::Kernel::print_kernel" ref="ad1eb0df444a0c0cacc3fc9bed12f6cda" args="(string fname, int recreate)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#ad1eb0df444a0c0cacc3fc9bed12f6cda">print_kernel</a> </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recreate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Outputs kernel to a file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td>Name of file to which to print the kernel. </td></tr>
    <tr><td class="paramname">recreate</td><td>Flag that indicates whether the kernel should be printed out without the intrinsic weight factoring. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00489">489</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordflow">if</span> (<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a> == <span class="keyword">nullptr</span>)
                        <span class="keywordflow">return</span>;         <span class="comment">//Signifies the kernel is nonexistent</span>

                std::ofstream ofile(fname);

                <span class="keywordflow">if</span>(recreate == RECREATE_KER)
                {
                        <span class="comment">//Recreate kernel to print it without the weighting, except for intrinsic weight</span>
                        T* buffer = <span class="keyword">new</span> T[<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>*<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>];

                        <a class="code" href="classvisio_1_1_kernel.html#a27ccbc26e7ad6a5b9e9931941353e917">make_kernel</a>(buffer, <a class="code" href="classvisio_1_1_kernel.html#a73d6c48187e591d75714b4c4d0fbbbd3" title="Weighting coefficient present in the kernel&#39;s equation.">_intrinsic_weight</a>);
                        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>; i++)
                        {
                                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>; j++)
                                        ofile&lt;&lt;buffer[i*_hsize + j]&lt;&lt;<span class="stringliteral">&quot; &quot;</span>;
                                ofile&lt;&lt;endl;
                        }
                        <span class="keyword">delete</span>[] buffer;
                }
                <span class="keywordflow">else</span>
                {
                        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>; i++)
                        {
                                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>; j++)
                                        ofile&lt;&lt;<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>[i*_hsize + j]&lt;&lt;<span class="stringliteral">&quot; &quot;</span>;
                                ofile&lt;&lt;endl;
                        }
                }
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a11f00f98c0c31c5528f514af5018bee3"></a><!-- doxytag: member="visio::Kernel::remove" ref="a11f00f98c0c31c5528f514af5018bee3" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a11f00f98c0c31c5528f514af5018bee3">remove</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frees the space of the kernel without destroying it. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00150">150</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keyword">delete</span>[] <a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>;
                <a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a> = NULL;

                <span class="comment">//SVD related arrays</span>
                <span class="keyword">delete</span>[] <a class="code" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7" title="First SV mask (rows)">_mask1</a>;
                <span class="keyword">delete</span>[] <a class="code" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8" title="Second SV mask (cols)">_mask2</a>;
                <a class="code" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7" title="First SV mask (rows)">_mask1</a> = <a class="code" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8" title="Second SV mask (cols)">_mask2</a> = NULL;

                <span class="comment">//FFT related arrays</span>
                <span class="keywordflow">if</span>(<a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a>!=NULL)
                {
                        fftw_free(<a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a>);
                        <a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a> = NULL;
                        fftw_free(<a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a>);
                        <a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a> = NULL;
                        fftw_destroy_plan(<a class="code" href="classvisio_1_1_kernel.html#ad96ccc579e3ef14f6978dafb9cd135d3" title="FFT plan to generate kernel&#39;s FFT.">_plan</a>);
                        fftw_destroy_plan(<a class="code" href="classvisio_1_1_kernel.html#a53db20c23623cc15b72c45f49ec73691" title="FFT plan to perform convolution.">_upPlan</a>);
                        fftw_destroy_plan(<a class="code" href="classvisio_1_1_kernel.html#abf4e8e04a971fd158897175306731a45" title="FFT plan for inverse transform.">_downPlan</a>);

                        <span class="keyword">delete</span>[] <a class="code" href="classvisio_1_1_kernel.html#a05f6d8e111db380235cb66850c62ef6c" title="Noncentered FFT output.">_result</a>;
                        <span class="keyword">delete</span>[] <a class="code" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6" title="Padded array for input image.">_pad</a>;
                }
        }
</pre></div>
</div>
</div>
<a class="anchor" id="af3314979e24a20bc64315c8567ae88bd"></a><!-- doxytag: member="visio::Kernel::set_central" ref="af3314979e24a20bc64315c8567ae88bd" args="(T value)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#af3314979e24a20bc64315c8567ae88bd">set_central</a> </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the 2D center of the kernel to a particular value. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Numeric value at which to set the kernel. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00180">180</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                memset(<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>, 0, <span class="keyword">sizeof</span>(T) * <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a> * <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>);
                <a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>[<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>*(<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>-1)/2 + (<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>-1)/2] = value;

        }
</pre></div>
</div>
</div>
<a class="anchor" id="af0ab95b93001cada3ea061434b8183a2"></a><!-- doxytag: member="visio::Kernel::set_dft" ref="af0ab95b93001cada3ea061434b8183a2" args="(unsigned int mvsize, unsigned int mhsize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#af0ab95b93001cada3ea061434b8183a2">set_dft</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mvsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mhsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>DFT setup </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mvsize</td><td>Vertical size of the typical input frame. </td></tr>
    <tr><td class="paramname">mhsize</td><td>Horizontal size of the typical input frame. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00950">950</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">{
        <span class="keywordflow">if</span> (<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a> == <span class="keyword">nullptr</span>)
        {
                <span class="comment">//This signifies either that the kernel hasn&#39;t been allocated or that it has been pruned</span>
                <span class="keywordflow">return</span>;
        }
        <span class="comment">//0. Set sizes for convDFT()</span>
        <a class="code" href="classvisio_1_1_kernel.html#ad7fad7b15f27fbb0fd9e74e198715d70" title="Vertical size of padded array.">_dftVSize</a> = mvsize;
        <a class="code" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403" title="Horizontal size of padded array.">_dftHSize</a> = mhsize;
        <span class="comment">//1. Make kernel plan and compute coefficients</span>
        <span class="keywordtype">double</span>* b = <span class="keyword">new</span> <span class="keywordtype">double</span>[mvsize * mhsize];
        <a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a> = (fftw_complex*) (fftw_malloc(
                        <span class="keyword">sizeof</span>(fftw_complex) * mvsize * (mhsize / 2 + 1)));
        <a class="code" href="classvisio_1_1_kernel.html#ad96ccc579e3ef14f6978dafb9cd135d3" title="FFT plan to generate kernel&#39;s FFT.">_plan</a> = fftw_plan_dft_r2c_2d(mvsize, mhsize, b, <a class="code" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100" title="FFT coefficients for kernel.">_dft</a>, FFTW_MEASURE);
        memset(b, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>) * mvsize * mhsize);
        <a class="code" href="classvisio_1_1_kernel.html#a976ba0f21c31615fa8ab2b6d564546c9">center_kernel</a>(<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>, <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>, <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>, b, mvsize, mhsize);
        fftw_execute(<a class="code" href="classvisio_1_1_kernel.html#ad96ccc579e3ef14f6978dafb9cd135d3" title="FFT plan to generate kernel&#39;s FFT.">_plan</a>);
        <span class="keyword">delete</span>[] b;
        <a class="code" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6" title="Padded array for input image.">_pad</a> = <span class="keyword">new</span> <span class="keywordtype">double</span>[mvsize * mhsize];
        <span class="comment">//2. Make image plan</span>
        <a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a> = (fftw_complex*) (fftw_malloc(
                        <span class="keyword">sizeof</span>(fftw_complex) * mvsize * (mhsize / 2 + 1)));
        <a class="code" href="classvisio_1_1_kernel.html#a05f6d8e111db380235cb66850c62ef6c" title="Noncentered FFT output.">_result</a> = <span class="keyword">new</span> <span class="keywordtype">double</span>[mvsize * mhsize];
        <a class="code" href="classvisio_1_1_kernel.html#a53db20c23623cc15b72c45f49ec73691" title="FFT plan to perform convolution.">_upPlan</a> = fftw_plan_dft_r2c_2d(mvsize, mhsize, <a class="code" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6" title="Padded array for input image.">_pad</a>, <a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a>, FFTW_MEASURE);
        <a class="code" href="classvisio_1_1_kernel.html#abf4e8e04a971fd158897175306731a45" title="FFT plan for inverse transform.">_downPlan</a> = fftw_plan_dft_c2r_2d(mvsize, mhsize, <a class="code" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293" title="FFT coefficients for convolved image.">_image</a>, <a class="code" href="classvisio_1_1_kernel.html#a05f6d8e111db380235cb66850c62ef6c" title="Noncentered FFT output.">_result</a>,
                        FFTW_MEASURE);
        memset(<a class="code" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6" title="Padded array for input image.">_pad</a>, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>) * mvsize * mhsize);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a22be0193141e2877d5725237f4e15548"></a><!-- doxytag: member="visio::Kernel::set_intrinsic_weight" ref="a22be0193141e2877d5725237f4e15548" args="(T w)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a22be0193141e2877d5725237f4e15548">set_intrinsic_weight</a> </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>To store the intrinsic weighting factor (the one that is specified in the kernel's equation). </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>Intrinsic weight of the kernel. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00248">248</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <a class="code" href="classvisio_1_1_kernel.html#a73d6c48187e591d75714b4c4d0fbbbd3" title="Weighting coefficient present in the kernel&#39;s equation.">_intrinsic_weight</a> = w;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a50672e182bd385f51f0aff01bda83d9f"></a><!-- doxytag: member="visio::Kernel::show_kernel" ref="a50672e182bd385f51f0aff01bda83d9f" args="(unsigned int precision) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a50672e182bd385f51f0aff01bda83d9f">show_kernel</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>precision</em></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>To print out kernel to stdout. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">precision</td><td>Degree of numerical precision desired. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00472">472</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>;i++)
                {
                        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0;j&lt;<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>;j++)
                        {
                                std::cout&lt;&lt;std::setprecision(precision)&lt;&lt;<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>[i*_hsize + j]&lt;&lt;<span class="stringliteral">&quot; &quot;</span>;
                        }
                        cout&lt;&lt;endl;
                }
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ae18b81f5b55d92a95501787828efcf16"></a><!-- doxytag: member="visio::Kernel::svd" ref="ae18b81f5b55d92a95501787828efcf16" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#ae18b81f5b55d92a95501787828efcf16">svd</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Performs svd of kernel (for faster separable convolution). Uses the JAMA library (<a href="http://math.nist.gov/tnt/download.html">http://math.nist.gov/tnt/download.html</a>) </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00543">543</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {

                <span class="keywordflow">if</span>(<a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>==NULL)
                {
                        <span class="comment">//Either the kernel hasn&#39;t been assigned or it has been pruned, so no way to do svd</span>
                        <span class="keywordflow">return</span>;
                }

                <span class="comment">//Create TNT/JAMA objects</span>
                TNT::Array2D&lt;T&gt; a(<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>,<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>);

                T* p = <a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>;
                T** q = a;

                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i,j;

                <span class="comment">//Assign kernel values</span>
                <span class="keywordflow">for</span>(i=0;i&lt;<a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>;i++)
                {
                        <span class="keywordflow">for</span>(j=0;j&lt;<a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a>;j++,p++)
                                q[i][j] = *p;
                }

                JAMA::SVD&lt;T&gt; b(a);
                TNT::Array2D&lt;T&gt; u,v;
                TNT::Array1D&lt;T&gt; s;
                b.getU(u);
                b.getV(v);
                b.getSingularValues(s);

                <span class="comment">//Create m_mask1 and m_mask2</span>
                <a class="code" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7" title="First SV mask (rows)">_mask1</a> = <span class="keyword">new</span> T[u.dim2()];
                <a class="code" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8" title="Second SV mask (cols)">_mask2</a> = <span class="keyword">new</span> T[v.dim1()];

                T* pm;
                <span class="keywordflow">for</span>(i=0,pm = <a class="code" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7" title="First SV mask (rows)">_mask1</a>,q = u;i&lt;static_cast&lt;unsigned&gt;(u.dim2());i++,pm++) *pm = q[i][0] * s[0];
                <span class="keywordflow">for</span>(i=0,pm = <a class="code" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8" title="Second SV mask (cols)">_mask2</a>,q = v;i&lt;static_cast&lt;unsigned&gt;(v.dim1());i++,pm++) *pm = q[i][0];

        }
</pre></div>
</div>
</div>
<a class="anchor" id="a1bed5746f9b9bc6029b996769f819575"></a><!-- doxytag: member="visio::Kernel::vsize" ref="a1bed5746f9b9bc6029b996769f819575" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a1bed5746f9b9bc6029b996769f819575">vsize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>Vertical size of kernel. </dd></dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00134">134</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                <span class="keywordflow">return</span> <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="aa78d9ba427020f0478cf371a07fc3969"></a><!-- doxytag: member="visio::Kernel::weight" ref="aa78d9ba427020f0478cf371a07fc3969" args="(T w)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#aa78d9ba427020f0478cf371a07fc3969">weight</a> </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Additional scaling of the weight kernel. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">w</td><td>Weight to use to scale the kernel. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00234">234</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>
<div class="fragment"><pre class="fragment">        {
                T* p = <a class="code" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14" title="The kernel data.">_kernel</a>;
                <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465" title="Horizontal size.">_hsize</a> * <a class="code" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a" title="Vertical size.">_vsize</a>; i++, p++)
                {
                <span class="comment">//      *p++ = w * *p;//05/30/14 This was the original code and is replaced by the line below and putting p++ in the loop</span>
                        *p *= w;
                }
        }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a988214bdc7a27c10abfcc324c271be7a"></a><!-- doxytag: member="visio::Kernel::_clipSize" ref="a988214bdc7a27c10abfcc324c271be7a" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a988214bdc7a27c10abfcc324c271be7a">_clipSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Threshold value at which kernel is truncated. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00110">110</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3c079a49665d1e3e7c2af0309f059100"></a><!-- doxytag: member="visio::Kernel::_dft" ref="a3c079a49665d1e3e7c2af0309f059100" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">fftw_complex* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a3c079a49665d1e3e7c2af0309f059100">_dft</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>FFT coefficients for kernel. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00119">119</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac55dbd3c17747c517ddf0cc418453403"></a><!-- doxytag: member="visio::Kernel::_dftHSize" ref="ac55dbd3c17747c517ddf0cc418453403" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#ac55dbd3c17747c517ddf0cc418453403">_dftHSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Horizontal size of padded array. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00127">127</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad7fad7b15f27fbb0fd9e74e198715d70"></a><!-- doxytag: member="visio::Kernel::_dftVSize" ref="ad7fad7b15f27fbb0fd9e74e198715d70" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#ad7fad7b15f27fbb0fd9e74e198715d70">_dftVSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Vertical size of padded array. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00126">126</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="abf4e8e04a971fd158897175306731a45"></a><!-- doxytag: member="visio::Kernel::_downPlan" ref="abf4e8e04a971fd158897175306731a45" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">fftw_plan <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#abf4e8e04a971fd158897175306731a45">_downPlan</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>FFT plan for inverse transform. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00123">123</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad2711eb60ce4e8d61115059bd915a465"></a><!-- doxytag: member="visio::Kernel::_hsize" ref="ad2711eb60ce4e8d61115059bd915a465" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#ad2711eb60ce4e8d61115059bd915a465">_hsize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Horizontal size. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00105">105</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa7eeea3e727d75f477cf00f7d2926293"></a><!-- doxytag: member="visio::Kernel::_image" ref="aa7eeea3e727d75f477cf00f7d2926293" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">fftw_complex* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#aa7eeea3e727d75f477cf00f7d2926293">_image</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>FFT coefficients for convolved image. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00120">120</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a73d6c48187e591d75714b4c4d0fbbbd3"></a><!-- doxytag: member="visio::Kernel::_intrinsic_weight" ref="a73d6c48187e591d75714b4c4d0fbbbd3" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a73d6c48187e591d75714b4c4d0fbbbd3">_intrinsic_weight</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Weighting coefficient present in the kernel's equation. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00112">112</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae5a48004e39ed54f31a1a2a1f4360c14"></a><!-- doxytag: member="visio::Kernel::_kernel" ref="ae5a48004e39ed54f31a1a2a1f4360c14" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#ae5a48004e39ed54f31a1a2a1f4360c14">_kernel</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The kernel data. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00114">114</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa099ea9a287e07b8e1bc0bbe3f3b43a7"></a><!-- doxytag: member="visio::Kernel::_mask1" ref="aa099ea9a287e07b8e1bc0bbe3f3b43a7" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#aa099ea9a287e07b8e1bc0bbe3f3b43a7">_mask1</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>First SV mask (rows) </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00116">116</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5e7df3e8639fd52ae50570238df3f0d8"></a><!-- doxytag: member="visio::Kernel::_mask2" ref="a5e7df3e8639fd52ae50570238df3f0d8" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a5e7df3e8639fd52ae50570238df3f0d8">_mask2</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Second SV mask (cols) </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00117">117</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6bd6dc8dd700f159b34cf822991d4dc7"></a><!-- doxytag: member="visio::Kernel::_orientation" ref="a6bd6dc8dd700f159b34cf822991d4dc7" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a6bd6dc8dd700f159b34cf822991d4dc7">_orientation</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Orientation (in rads) </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00107">107</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8f2ab959f8a11964bf399a93215f86d6"></a><!-- doxytag: member="visio::Kernel::_pad" ref="a8f2ab959f8a11964bf399a93215f86d6" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a8f2ab959f8a11964bf399a93215f86d6">_pad</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Padded array for input image. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00125">125</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad96ccc579e3ef14f6978dafb9cd135d3"></a><!-- doxytag: member="visio::Kernel::_plan" ref="ad96ccc579e3ef14f6978dafb9cd135d3" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">fftw_plan <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#ad96ccc579e3ef14f6978dafb9cd135d3">_plan</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>FFT plan to generate kernel's FFT. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00121">121</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a05f6d8e111db380235cb66850c62ef6c"></a><!-- doxytag: member="visio::Kernel::_result" ref="a05f6d8e111db380235cb66850c62ef6c" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double* <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a05f6d8e111db380235cb66850c62ef6c">_result</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Noncentered FFT output. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00124">124</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="add4998c8a0aaddafe3a9f218d302e026"></a><!-- doxytag: member="visio::Kernel::_sigma1" ref="add4998c8a0aaddafe3a9f218d302e026" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#add4998c8a0aaddafe3a9f218d302e026">_sigma1</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Standard deviation of Gaussian in one direction. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00108">108</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae8c2f4998a02a89c9a7ceaef55945d8d"></a><!-- doxytag: member="visio::Kernel::_sigma2" ref="ae8c2f4998a02a89c9a7ceaef55945d8d" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#ae8c2f4998a02a89c9a7ceaef55945d8d">_sigma2</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Standard deviation of Gaussian in other direction. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00109">109</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a53db20c23623cc15b72c45f49ec73691"></a><!-- doxytag: member="visio::Kernel::_upPlan" ref="a53db20c23623cc15b72c45f49ec73691" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">fftw_plan <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a53db20c23623cc15b72c45f49ec73691">_upPlan</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>FFT plan to perform convolution. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00122">122</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a98f2f8508da81e5ba21ee34bb289874a"></a><!-- doxytag: member="visio::Kernel::_vsize" ref="a98f2f8508da81e5ba21ee34bb289874a" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classvisio_1_1_kernel.html">visio::Kernel</a>&lt; T &gt;::<a class="el" href="classvisio_1_1_kernel.html#a98f2f8508da81e5ba21ee34bb289874a">_vsize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Vertical size. </p>

<p>Definition at line <a class="el" href="_kernel_8h_source.html#l00106">106</a> of file <a class="el" href="_kernel_8h_source.html">Kernel.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>visio/<a class="el" href="_kernel_8h_source.html">Kernel.h</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 18 2014 22:09:04 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
